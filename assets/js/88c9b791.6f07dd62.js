"use strict";(self.webpackChunkhammeranims=self.webpackChunkhammeranims||[]).push([[3697],{8535:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var t=o(5893),s=o(1151);const r={sidebar_position:2,title:"\ud83c\udf10 Custom Hostnames"},i=void 0,d={id:"cloudflared/custom_host",title:"\ud83c\udf10 Custom Hostnames",description:"Setting up persistent URLs",source:"@site/docs/cloudflared/custom_host.md",sourceDirName:"cloudflared",slug:"/cloudflared/custom_host",permalink:"/docs/cloudflared/custom_host",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"\ud83c\udf10 Custom Hostnames"},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udce9 Download Cloudflared",permalink:"/docs/cloudflared/download"}},l={},c=[{value:"\ud83d\udee1\ufe0f Meet Zero Trust",id:"\ufe0f-meet-zero-trust",level:2},{value:"\u2699\ufe0f Mod Configs",id:"\ufe0f-mod-configs",level:2},{value:"\ud83d\ude04 Enjoy!",id:"-enjoy",level:2},{value:"But wait, what address do players need to use now?!",id:"but-wait-what-address-do-players-need-to-use-now",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://assets.zeith.org/logos/cloudflared.png",alt:"Setting up persistent URLs"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["Before reading further, make sure you have a ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://dash.cloudflare.com/",children:"Cloudflare"})})," account and you have your domain, pointing to Cloudflare's DNS servers, or you have a registered domain on Cloudflare."]}),(0,t.jsxs)(n.p,{children:["If you're unsure on where to begin, ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://developers.cloudflare.com/learning-paths/get-started/#add-your-domain-to-cloudflare",children:"this course"})})," should get you on track."]})]}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-meet-zero-trust",children:"\ud83d\udee1\ufe0f Meet Zero Trust"}),"\n",(0,t.jsxs)(n.p,{children:["You can navigate to it from left sidebar on the Cloudflare dashboard, or ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://one.dash.cloudflare.com/",children:"here"})}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Step-by-step guide on setting up your own tunnel:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Open ",(0,t.jsx)(n.a,{href:"https://one.dash.cloudflare.com/",children:"Zero Trust"})," dashboard;"]}),"\n",(0,t.jsxs)(n.li,{children:["Expand ",(0,t.jsx)(n.code,{children:"Networks"})," tab on the left;"]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.code,{children:"Tunnels"})," under ",(0,t.jsx)(n.code,{children:"Networks"}),";"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.code,{children:"\u2795 Create a tunnel"}),";"]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.code,{children:"Cloudflared"})," connector;"]}),"\n",(0,t.jsx)(n.li,{children:"Pick a name for your tunnel (it should be meaningful of your computer, although it can be anything). The name isn't visible to anyone besides you;"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.code,{children:"Save tunnel"}),";"]}),"\n",(0,t.jsxs)(n.li,{children:["Now you should be present with ",(0,t.jsx)(n.code,{children:"Choose your environment"}),". Go through the instructions listed there;"]}),"\n",(0,t.jsx)(n.li,{children:"After following the instruction, you should see a connector appear. Save everything!"}),"\n",(0,t.jsx)(n.li,{children:'Go to "Public Hostnames" tab on the top (right below your tunnel name)'}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.code,{children:"\u2795 Add a public hostname"}),";"]}),"\n",(0,t.jsxs)(n.li,{children:["Pick a ",(0,t.jsx)(n.code,{children:"Subdomain"})," name that you want to use; (",(0,t.jsx)(n.strong,{children:"REMEMBER FOR LATER!"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Select a ",(0,t.jsx)(n.code,{children:"Domain"})," from ones connected to your Cloudflare account; (",(0,t.jsx)(n.strong,{children:"REMEMBER FOR LATER!"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Leave the ",(0,t.jsx)(n.code,{children:"Path"})," empty!"]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.code,{children:"Type"})," field to ",(0,t.jsx)(n.code,{children:"TCP"})]}),"\n",(0,t.jsxs)(n.li,{children:["Inside ",(0,t.jsx)(n.code,{children:"URL"}),", type in ",(0,t.jsx)(n.code,{children:"127.0.0.1:PORT"}),", and replace ",(0,t.jsx)(n.code,{children:"PORT"})," with the actual port number. I recommend setting it to ",(0,t.jsx)(n.code,{children:"25665"})," (yes, not ",(0,t.jsx)(n.code,{children:"25565"}),"!)"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.code,{children:"Save hostname"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Now the tunnel should be ready to go.\nLet's tweak the mod's configurations to fit our needs..."}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-mod-configs",children:"\u2699\ufe0f Mod Configs"}),"\n",(0,t.jsxs)(n.p,{children:["Locate the mod's config file (",(0,t.jsx)(n.code,{children:".minecraft/config/cloudflared.cfg"}),") and locate ",(0,t.jsx)(n.code,{children:"hosting"})," category."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set ",(0,t.jsx)(n.code,{children:"Start Tunnel"})," from ",(0,t.jsx)(n.code,{children:"true"})," to ",(0,t.jsx)(n.code,{children:"false"}),". This prevents the built-in tunnel from starting, since we installed cloudflared as a system service earlier on!"]}),"\n",(0,t.jsxs)(n.li,{children:["Set ",(0,t.jsx)(n.code,{children:"Custom Port Override"})," from ",(0,t.jsx)(n.code,{children:"0"})," to your ",(0,t.jsx)(n.code,{children:"PORT"})," (In the example above we used ",(0,t.jsx)(n.code,{children:"25665"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Restart the game"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-enjoy",children:"\ud83d\ude04 Enjoy!"}),"\n",(0,t.jsx)(n.p,{children:"You're ready to go!\nWhen hosting the game, Cloudflared mod will force the server to run on a specific port that we set up in configs, and the service tunnel will point to that port, letting users connect."}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.h3,{id:"but-wait-what-address-do-players-need-to-use-now",children:"But wait, what address do players need to use now?!"}),(0,t.jsx)(n.p,{children:"To put it simply, it will be your address!"}),(0,t.jsxs)(n.p,{children:["While setting up the tunnel in Zero Trust dashboard, we entered the ",(0,t.jsx)(n.code,{children:"Subdomain"})," and ",(0,t.jsx)(n.code,{children:"Domain"}),". That's exactly what we're going to be using!"]}),(0,t.jsxs)(n.p,{children:["If I was to host a game on subdomain ",(0,t.jsx)(n.code,{children:"mcdoc"})," of domain ",(0,t.jsx)(n.code,{children:"zeith.org"}),", then my cloudflared URL would be ",(0,t.jsx)(n.code,{children:"cloudflared://mcdoc.zeith.org"}),", and that's the IP other players should be using to connect."]}),(0,t.jsxs)(n.p,{children:["Yes, the ",(0,t.jsx)(n.code,{children:"cloudflared://"})," prefix is cumbersome, but it's very important to let the mod know it has to tunnel the connection through Cloudflare infrastructure."]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>d,a:()=>i});var t=o(7294);const s={},r=t.createContext(s);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);